# yaml-language-server: $schema=https://raw.githubusercontent.com/nf-core/modules/master/modules/meta-schema.json
name: registration_synthregistration
description: Perform registration using SynthMorph from Freesurfer. Outputs transforms
  in Freesurfer format .lta for affine and .nii.gz (synthmorph also supports .mgz)
  for deform, both in RAS orientation. Conversion to other formats is done using lta_convert
  and mri_warp_convert respectively, which support a wide range of conversion formats
  and orientations, such as ANTs ans FSL. To convert the output of this module, use
  the registration/convert module successively to it. Note that tests using synthmorph
  are non-reproductible.
keywords:
  - Registration
  - Brain imaging
  - MRI
  - Synthetic
  - AI
  - CNN
tools:
  - Freesurfer:
      description: |
        Open source neuroimaging toolkit for processing, analyzing, and visualizing human brain MR images.
      homepage: https://surfer.nmr.mgh.harvard.edu/
      identifier: 10.1016/j.neuroimage.2012.01.021
input:
  - - meta:
        type: map
        description: |
          Groovy Map containing sample information
          e.g. `[ id:'test', single_end:false ]`

    - moving:
        type: file
        description: Nifti volume moving for registration
        pattern: "*.{nii,nii.gz}"

    - fixed:
        type: file
        description: Nifti volume fixed for registration
        pattern: "*.{nii,nii.gz}"

output:
  - warped_image:
      - meta:
          type: map
          description: |
            Groovy Map containing sample information
            e.g. `[ id:'test', single_end:false ]`

      - "*__output_warped.nii.gz":
          type: file
          description: Warped image
          pattern: "*__output_warped.nii.gz"

  - warp:
      - meta:
          type: map
          description: |
            Groovy Map containing sample information
            e.g. `[ id:'test', single_end:false ]`

      - "*__deform_warp.nii.gz":
          type: list
          description: Nifti volume containing warp field from moving to fixed
          pattern: "*__deform_warp.nii.gz"

  - affine:
      - meta:
          type: map
          description: |
            Groovy Map containing sample information
            e.g. `[ id:'test', single_end:false ]`

      - "*__affine_warp.lta":
          type: list
          description: Affine transformation from moving to fixed
          pattern: "*__affine_warp.lta"

  - versions:
      - versions.yml:
          type: file
          description: File containing software versions
          pattern: versions.yml

authors:
  - "@anroy1"
